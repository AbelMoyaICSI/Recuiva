<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
    <link as="style" href="https://fonts.googleapis.com/css2?display=swap&amp;family=Manrope%3Awght%40400%3B500%3B700%3B800&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900" onload="this.rel='stylesheet'" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
    <title>Recuiva - Dashboard</title>
    <link rel="icon" type="image/x-icon" href="../assets/img/Icon-Recuiva.ico"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <style type="text/tailwindcss">
      :root {
        --primary-color: #FF6600;
        --secondary-color: #004EAA;
        --accent-color: #A5CDED;
        --base-white: #FFFFFF;
        --base-gray: #F1F3F5;
        --text-primary: #181410;
        --text-secondary: #575757;
      }
      
      /* Estilo global para el logo Recuiva */
      .recuiva-logo {
        font-family: 'Manrope', sans-serif !important;
        font-weight: 800 !important;
        font-size: 1.5rem !important;
      }
      .hover-lift {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      .hover-lift:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
      }
      .menu-btn {
        cursor: pointer;
        transition: transform 0.3s ease;
      }
      .menu-btn:hover {
        transform: scale(1.1);
      }
      .mobile-menu {
        transform-origin: top;
        transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.4s ease;
        transform: scaleY(0);
        opacity: 0;
        pointer-events: none;
        height: 100vh;
        overflow-y: auto;
      }
      .mobile-menu.active {
        transform: scaleY(1);
        opacity: 1;
        pointer-events: auto;
      }
      #menu-btn.active .menu-icon {
        transform: rotate(180deg);
      }
      .profile-dropdown {
        display: none;
        position: absolute;
        right: 0;
        top: 100%;
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 1rem;
        box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);
        padding: 0.75rem 0;
        min-width: 14rem;
        z-index: 50;
        opacity: 0;
        transform: translateY(-10px);
        transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        pointer-events: none;
      }
      .profile-dropdown.active {
        display: block;
        opacity: 1;
        transform: translateY(0);
        pointer-events: auto;
      }
      .profile-dropdown a, .profile-dropdown button {
        transition: all 0.2s ease;
      }
      .profile-dropdown a:hover, .profile-dropdown button:hover {
        transform: translateX(4px);
      }
      .notification-badge {
        position: absolute;
        top: -2px;
        right: -2px;
        background: var(--primary-color);
        color: white;
        border-radius: 9999px;
        font-size: 0.75rem;
        padding: 0.1rem 0.4rem;
        min-width: 1.2rem;
        text-align: center;
      }
      
      /* Modal de notificaciones mejorado - Estilo elegante */
      .notification-modal {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(4px);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        opacity: 0;
        visibility: hidden;
        transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }
      .notification-modal.show {
        opacity: 1;
        visibility: visible;
      }
      .notification-modal-content {
        background: white;
        border-radius: 1.5rem;
        padding: 2rem;
        max-width: 26rem;
        margin: 1rem;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        transform: scale(0.8) translateY(30px);
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }
      .notification-modal.show .notification-modal-content {
        transform: scale(1) translateY(0);
      }
      .notification-icon-container {
        background: linear-gradient(135deg, #FF6600, #FF8533);
        width: 4rem;
        height: 4rem;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1.5rem;
        box-shadow: 0 8px 16px rgba(255, 102, 0, 0.3);
      }
      .notification-modal h3 {
        font-size: 1.25rem;
        font-weight: 700;
        color: #1f2937;
        margin-bottom: 0.75rem;
        text-align: center;
      }
      .notification-modal p {
        font-size: 0.875rem;
        line-height: 1.6;
        color: #6b7280;
        text-align: center;
        margin-bottom: 2rem;
      }
      .modal-button {
        background: linear-gradient(135deg, #FF6600, #FF8533);
        color: white;
        border: none;
        border-radius: 0.75rem;
        padding: 0.75rem 2rem;
        font-weight: 600;
        font-size: 0.875rem;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 12px rgba(255, 102, 0, 0.3);
        width: 100%;
      }
      .modal-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(255, 102, 0, 0.4);
      }
      }
      .notification-modal.show {
        opacity: 1;
        visibility: visible;
      }
      .notification-modal-content {
        background: white;
        border-radius: 1rem;
        padding: 1.5rem;
        max-width: 28rem;
        margin: 1rem;
        transform: scale(0.9) translateY(-20px);
        transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }
      .notification-modal.show .notification-modal-content {
        transform: scale(1) translateY(0);
      }
    </style>
</head>
<body class="bg-[var(--base-gray)]" style='font-family: Manrope, "Noto Sans", sans-serif;'>
<div class="relative flex size-full min-h-screen flex-col overflow-x-hidden">
<header class="bg-[var(--base-white)] shadow-md sticky top-0 z-50">
<div class="container mx-auto px-4 md:px-6 py-3 flex justify-between items-center">
  <div class="flex items-center gap-3">
    <a href="../index.html" class="flex items-center gap-2">
      <img src="../assets/img/Icon-Recuiva.png" alt="Logo Recuiva" class="h-10 w-10 object-contain md:h-12 md:w-12" style="max-width:48px; max-height:48px;"/>
      <span class="recuiva-logo text-[var(--text-primary)]">Recuiva</span>
    </a>
  </div>
  <nav class="hidden md:flex items-center gap-4">
    <a class="text-[var(--text-secondary)] hover:text-[var(--primary-color)] transition-colors px-2 py-1 rounded-lg" href="../index.html">Inicio</a>
    <a class="text-[var(--text-secondary)] hover:text-[var(--primary-color)] transition-colors px-2 py-1 rounded-lg" href="materiales.html">Materiales</a>
    <a class="text-[var(--primary-color)] font-semibold px-2 py-1 rounded-lg" href="../dashboard.html">Dashboard</a>
    <a class="text-[var(--text-secondary)] hover:text-[var(--primary-color)] transition-colors px-2 py-1 rounded-lg" href="repasos.html">Repasos</a>
    <a class="text-[var(--text-secondary)] hover:text-[var(--primary-color)] transition-colors px-2 py-1 rounded-lg" href="sesion-practica.html">Pr치ctica</a>
  </nav>
  <div class="flex items-center gap-4">
    <!-- Notifications (solo desktop) -->
    <button onclick="showBackendModal('notifications', 'Notificaciones', 'Sistema de notificaciones en tiempo real para repasos, recordatorios y actualizaciones de progreso. Requiere conexi칩n con servidor.')" class="hidden md:inline-block relative rounded-full p-2 text-gray-500 hover:bg-gray-100 hover:text-gray-700 focus:outline-none transition-all">
      <span class="material-symbols-outlined">notifications</span>
      <span class="notification-badge">3</span>
    </button>
    <!-- Profile Dropdown (solo desktop) -->
    <div class="hidden md:inline-block relative">
      <button id="profile-btn" class="flex items-center gap-2 rounded-full p-1 hover:bg-gray-100 focus:outline-none">
        <img alt="User profile picture" class="h-10 w-10 rounded-full object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuCyGLORD72LxN41UVDA81HVOTMlzDwHkmzA2VA967ViruuCJi2GWPkaJZWBg6jKUb3EEInqAfLnwDb7X8JKy9NxA3xpKYnGqLnSPCFZTK7jPXl5-5b3KJmdHUujOgDYse9Ot1ytAsExi16vwZVLKXQFZSRJxHx9NMdIQ8PjucCFnApu7QGgJGzDiKcKBsZdsBH7V33SOTIlECl6u4f4QCkfbW-_QsCRV3EddCq478pupKgtJZQi74G8U1DdNn4IxfCTXnmZhbKfc8SR"/>
        <span class="material-symbols-outlined text-gray-500">expand_more</span>
      </button>
      <div id="profile-dropdown" class="profile-dropdown">
        <div class="px-4 py-3 border-b border-gray-100">
          <div class="flex items-center gap-3">
            <img class="h-10 w-10 rounded-full object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuCyGLORD72LxN41UVDA81HVOTMlzDwHkmzA2VA967ViruuCJi2GWPkaJZWBg6jKUb3EEInqAfLnwDb7X8JKy9NxA3xpKYnGqLnSPCFZTK7jPXl5-5b3KJmdHUujOgDYse9Ot1ytAsExi16vwZVLKXQFZSRJxHx9NMdIQ8PjucCFnApu7QGgJGzDiKcKBsZdsBH7V33SOTIlECl6u4f4QCkfbW-_QsCRV3EddCq478pupKgtJZQi74G8U1DdNn4IxfCTXnmZhbKfc8SR" alt="Foto de perfil"/>
            <div>
              <div class="font-medium text-gray-900">Juan P칠rez</div>
              <div class="text-sm text-gray-500">juan@ejemplo.com</div>
            </div>
          </div>
        </div>
        <a href="mi-perfil.html" class="flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 transition-colors">
          <span class="material-symbols-outlined mr-2">person</span>
          Mi Perfil
        </a>
        <hr class="my-1 border-gray-200">
        <button onclick="logout()" class="flex w-full items-center px-4 py-2 text-red-600 hover:bg-red-50">
          <span class="material-symbols-outlined mr-2">logout</span>
          Cerrar sesi칩n
        </button>
      </div>
    </div>
    <!-- Bot칩n men칰 m칩vil (solo m칩vil) -->
    <button class="menu-btn z-50 p-2 rounded-full hover:bg-gray-100 md:hidden" id="menu-btn">
      <span class="material-symbols-outlined text-3xl text-[var(--text-primary)] menu-icon">menu</span>
    </button>
  </div>
</div>
<!-- Mobile Menu -->
<div class="mobile-menu md:hidden fixed top-[73px] left-0 w-full bg-[var(--base-white)] z-40 shadow-lg" id="mobile-menu">
<div class="flex flex-col h-[calc(100vh-73px)] items-center justify-center gap-8">
  <!-- Perfil y configuraci칩n arriba de navegaci칩n -->
  <div class="flex flex-col items-center w-full mb-2 py-2">
    <a href="mi-perfil.html" class="flex flex-col items-center w-full px-6 py-2 hover:bg-gray-100 rounded-xl cursor-pointer transition-all">
      <img src="https://lh3.googleusercontent.com/aida-public/AB6AXuCyGLORD72LxN41UVDA81HVOTMlzDwHkmzA2VA967ViruuCJi2GWPkaJZWBg6jKUb3EEInqAfLnwDb7X8JKy9NxA3xpKYnGqLnSPCFZTK7jPXl5-5b3KJmdHUujOgDYse9Ot1ytAsExi16vwZVLKXQFZSRJxHx9NMdIQ8PjucCFnApu7QGgJGzDiKcKBsZdsBH7V33SOTIlECl6u4f4QCkfbW-_QsCRV3EddCq478pupKgtJZQi74G8U1DdNn4IxfCTXnmZhbKfc8SR" alt="Perfil" class="w-10 h-10 rounded-full border-2 border-blue-700 mx-auto object-cover" />
      <span class="text-base font-semibold text-gray-800 mt-2 text-center">Mi perfil</span>
    </a>
    <div class="flex flex-col items-center w-full px-6 py-2 hover:bg-gray-100 rounded-xl cursor-pointer transition-all">
      <span class="material-symbols-outlined mx-auto">settings</span>
    </div>
  </div>
  <hr class="w-2/3 border-gray-300 my-2" />
  <!-- Navegaci칩n principal -->
  <nav class="flex flex-col items-center gap-6 w-full">
    <a class="text-xl text-[var(--text-secondary)] hover:text-[var(--primary-color)] transition-colors" href="../index.html">Inicio</a>
    <a class="text-xl text-[var(--text-secondary)] hover:text-[var(--primary-color)] transition-colors" href="materiales.html">Materiales</a>
    <a class="text-xl text-[var(--primary-color)] font-semibold" href="../dashboard.html">Dashboard</a>
    <a class="text-xl text-[var(--text-secondary)] hover:text-[var(--primary-color)] transition-colors" href="repasos.html">Repasos</a>
    <a class="text-xl text-[var(--text-secondary)] hover:text-[var(--primary-color)] transition-colors" href="sesion-practica.html">Pr치ctica</a>
  </nav>
  <hr class="w-2/3 border-gray-300 my-2" />
  <button onclick="logout()" class="flex items-center gap-2 text-base text-red-600 font-semibold">
    <span class="material-symbols-outlined">logout</span>
    Cerrar sesi칩n
  </button>
</div>
</header>
<main class="mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8">
<div class="mb-8">
<h1 class="text-3xl font-bold tracking-tight text-gray-900">Panel de control</h1>
</div>
<div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4">
<div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm">
<p class="text-sm font-medium text-gray-500">Retenci칩n</p>
<p class="mt-1 text-3xl font-bold text-gray-900">85%</p>
<p class="mt-1 text-sm font-medium text-green-600">+5%</p>
</div>
<div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm">
<p class="text-sm font-medium text-gray-500">Tiempo de pr치ctica</p>
<p class="mt-1 text-3xl font-bold text-gray-900">2h 30m</p>
<p class="mt-1 text-sm font-medium text-green-600">+15m</p>
</div>
<div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm">
<p class="text-sm font-medium text-gray-500">Coherencia Sem치ntica</p>
<p class="mt-1 text-3xl font-bold text-gray-900">0.82</p>
<p class="mt-1 text-sm font-medium text-green-600">+0.08</p>
</div>
<div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm">
<p class="text-sm font-medium text-gray-500">Mejora Global</p>
<p class="mt-1 text-3xl font-bold text-gray-900">+38%</p>
<p class="mt-1 text-sm font-medium text-blue-600">desde inicio</p>
</div>
</div>
<div class="mt-10 grid grid-cols-1 gap-8 lg:grid-cols-3">
<div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm lg:col-span-2">
<h2 class="text-lg font-semibold text-gray-900">Evoluci칩n y Progreso</h2>
<div class="mt-4">
<p class="text-sm font-medium text-gray-500">Coherencia sem치ntica a lo largo del tiempo</p>
<div class="flex items-baseline gap-2">
<p class="text-4xl font-bold text-gray-900">0.82</p>
<p class="text-sm font-medium text-green-600">+0.08</p>
</div>
<p class="text-xs text-gray-400">칔ltimos 15 d칤as</p>
<div class="mt-6 h-48">
<svg fill="none" height="100%" preserveAspectRatio="none" viewBox="0 0 472 150" width="100%" xmlns="http://www.w3.org/2000/svg">
<path d="M0 109C18.1538 109 18.1538 21 36.3077 21C54.4615 21 54.4615 41 72.6154 41C90.7692 41 90.7692 93 108.923 93C127.077 93 127.077 33 145.231 33C163.385 33 163.385 101 181.538 101C199.692 101 199.692 61 217.846 61C236 61 236 45 254.154 45C272.308 45 272.308 121 290.462 121C308.615 121 308.615 149 326.769 149C344.923 149 344.923 1 363.077 1C381.231 1 381.231 81 399.385 81C417.538 81 417.538 129 435.692 129C453.846 129 453.846 25 472 25V149H0V109Z" fill="url(#paint0_linear_1131_5935)"></path>
<path d="M0 109C18.1538 109 18.1538 21 36.3077 21C54.4615 21 54.4615 41 72.6154 41C90.7692 41 90.7692 93 108.923 93C127.077 93 127.077 33 145.231 33C163.385 33 163.385 101 181.538 101C199.692 101 199.692 61 217.846 61C236 61 236 45 254.154 45C272.308 45 272.308 121 290.462 121C308.615 121 308.615 149 326.769 149C344.923 149 344.923 1 363.077 1C381.231 1 381.231 81 399.385 81C417.538 81 417.538 129 435.692 129C453.846 129 453.846 25 472 25" stroke="var(--primary-color)" stroke-linecap="round" stroke-width="2"></path>
<defs>
<linearGradient gradientUnits="userSpaceOnUse" id="paint0_linear_1131_5935" x1="236" x2="236" y1="1" y2="149">
<stop stop-color="var(--primary-color)" stop-opacity="0.2"></stop>
<stop offset="1" stop-color="var(--primary-color)" stop-opacity="0"></stop>
</linearGradient>
</defs>
</svg>
</div>
<div class="flex justify-between text-xs font-medium text-gray-500">
<span>D칤a 1</span><span>D칤a 3</span><span>D칤a 7</span><span>D칤a 14</span><span>Hoy</span>
</div>
</div>
</div>
<div class="space-y-6">
<div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm">
<h2 class="text-lg font-semibold text-gray-900 mb-4">An치lisis por Tema</h2>
<div class="space-y-3">
<div class="flex justify-between items-center p-3 bg-green-50 rounded-lg">
<div>
<h3 class="font-medium text-gray-900">Endodoncia</h3>
<p class="text-sm text-gray-500">8 preguntas</p>
</div>
<div class="text-right">
<div class="text-lg font-bold text-green-600">0.85</div>
<div class="text-xs text-gray-500">+42%</div>
</div>
</div>
<div class="flex justify-between items-center p-3 bg-blue-50 rounded-lg">
<div>
<h3 class="font-medium text-gray-900">Fisiolog칤a</h3>
<p class="text-sm text-gray-500">5 preguntas</p>
</div>
<div class="text-right">
<div class="text-lg font-bold text-blue-600">0.78</div>
<div class="text-xs text-gray-500">+28%</div>
</div>
</div>
</div>
</div>
<div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm">
<h2 class="text-lg font-semibold text-gray-900">M칠tricas Clave</h2>
<div class="mt-4 space-y-3">
<div class="flex justify-between">
<span class="text-sm text-gray-500">Latencia promedio</span>
<span class="font-semibold">18s</span>
</div>
<div class="flex justify-between">
<span class="text-sm text-gray-500">D칤as activo</span>
<span class="font-semibold">15</span>
</div>
<div class="flex justify-between">
<span class="text-sm text-gray-500">Total intentos</span>
<span class="font-semibold">124</span>
</div>
</div>
</div>
</div>
</div>
<div class="mt-8">
<h2 class="text-lg font-semibold text-gray-900">Plan de refuerzo</h2>
<div class="mt-4 overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm">
<div class="flex flex-col items-start gap-6 p-6 md:flex-row">
<div class="flex-grow">
<p class="text-xs font-medium uppercase tracking-wider text-gray-500">Recomendado</p>
<p class="mt-2 text-xl font-bold text-gray-900">Repasar temas de 치lgebra</p>
<p class="mt-2 text-sm text-gray-600">
                    Identificamos que necesitas reforzar los conceptos b치sicos de 치lgebra. Dedica tiempo a repasar los siguientes temas para mejorar tu comprensi칩n.
                  </p>
</div>
<div class="h-32 w-full flex-shrink-0 rounded-lg bg-cover bg-center bg-no-repeat md:w-48" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuBS6SgeCDiJfS64dGS9J28vJ9LKdojp9K89-YhMXYPAg3g6z7AFSn8HifWrAA8bQNZQcXi6vj5vaI1sP6o_cpoyU3O-DZyN7P2q62O7xt5NCQvFwGXkcfV1527CzPqwmWrBtoU_fO4rf5ztorlFg8YqvqlZUFImH3waQVyR41olaNEzRrjF-IZeiS2TQcf-lgyzA-Gwf_RepDl75dZJqjveyX_evu8wuZ0QRGHxQOnMvNi38tGl-WHIhPVMBIr1wvg9hV846YfpEFmz");'></div>
</div>
<div class="border-t border-gray-200 bg-gray-50 px-6 py-4">
<button class="flex h-10 items-center justify-center rounded-lg bg-[var(--primary-color)] px-5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-orange-500">
<span>Ver plan de refuerzo</span>
</button>
</div>
</div>
</div>
</main>
<footer class="bg-[var(--secondary-color)] text-[var(--base-gray)] py-12 px-6 mt-16">
<div class="container mx-auto text-center">
<div class="flex justify-center items-center gap-2 mb-6">
<img src="../assets/img/Icon-Recuiva.png" alt="Logo Recuiva" class="h-10 w-10 object-contain md:h-12 md:w-12" style="max-width:48px; max-height:48px;"/>
<span class="text-2xl font-black">Recuiva</span>
</div>
<div class="flex flex-wrap items-center justify-center gap-x-6 gap-y-2 mb-6">
<a class="hover:text-[var(--primary-color)] transition-colors" href="../institucional/active-recall.html">Active Recall</a>
<a class="hover:text-[var(--primary-color)] transition-colors" href="../institucional/validacion-semantica.html">Validaci칩n Sem치ntica</a>
<a class="hover:text-[var(--primary-color)] transition-colors" href="../institucional/diferencias.html">Diferencias</a>
<a class="hover:text-[var(--primary-color)] transition-colors" href="#">Contacto</a>
<a class="hover:text-[var(--primary-color)] transition-colors" href="#">T칠rminos</a>
<a class="hover:text-[var(--primary-color)] transition-colors" href="#">Privacidad</a>
</div>
<p class="text-sm">춸 2025 Recuiva. Todos los derechos reservados.</p>
</div>
</footer>
<script>
document.addEventListener('DOMContentLoaded', () => {
  // Men칰 m칩vil animaci칩n igual que index.html
  const menuBtn = document.getElementById('menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');
  const menuIcon = menuBtn?.querySelector('.material-symbols-outlined');
  let isMenuOpen = false;

  function toggleMenu() {
    isMenuOpen = !isMenuOpen;
    
    if (isMenuOpen) {
      // Abrir men칰 suavemente
      mobileMenu.style.display = 'block';
      setTimeout(() => {
        mobileMenu.classList.add('active');
      }, 10);
      document.body.classList.add('overflow-hidden');
    } else {
      // Cerrar men칰 suavemente
      mobileMenu.classList.remove('active');
      setTimeout(() => {
        if (!isMenuOpen) {
          mobileMenu.style.display = 'none';
        }
      }, 400);
      document.body.classList.remove('overflow-hidden');
    }
    
    if (menuIcon) {
      menuIcon.style.transition = 'transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), opacity 0.2s ease';
      if (isMenuOpen) {
        menuIcon.style.transform = 'rotate(90deg)';
        menuIcon.style.opacity = '0';
        setTimeout(() => {
          menuIcon.textContent = 'close';
          menuIcon.style.transform = 'rotate(0deg)';
          menuIcon.style.opacity = '1';
        }, 200);
      } else {
        menuIcon.style.transform = 'rotate(90deg)';
        menuIcon.style.opacity = '0';
        setTimeout(() => {
          menuIcon.textContent = 'menu';
          menuIcon.style.transform = 'rotate(0deg)';
          menuIcon.style.opacity = '1';
        }, 200);
      }
    }
  }

  menuBtn?.addEventListener('click', toggleMenu);
  mobileMenu?.querySelectorAll('a, button').forEach(el => {
    el.addEventListener('click', () => { if (isMenuOpen) toggleMenu(); });
  });
  window.addEventListener('keydown', (e) => { if (isMenuOpen && e.key === 'Escape') toggleMenu(); });

  // === FUNCIONES MODALES BACKEND MEJORADAS ===
  window.showBackendModal = function(icon, title, description) {
    showAdvancedModal(icon, title, description);
  };
  
  // Modal avanzado con mejor UX
  window.showAdvancedModal = function(icon, title, description) {
    // Crear modal si no existe
    let modal = document.getElementById('advanced-modal');
    if (!modal) {
      modal = document.createElement('div');
      modal.id = 'advanced-modal';
      modal.className = 'notification-modal';
      modal.innerHTML = `
        <div class="notification-modal-content">
          <div class="notification-icon-container">
            <span class="material-symbols-outlined text-2xl text-white" id="modal-icon">notifications</span>
          </div>
          <h3 id="modal-title">游댒 Notificaciones</h3>
          <p id="modal-description">Sistema de notificaciones en tiempo real para repasos, recordatorios y actualizaciones de progreso. Requiere conexi칩n con servidor. Por ahora puedes explorar la funcionalidad simulada. En la versi칩n completa con backend, esto funcionar치 en tiempo real.</p>
          <button onclick="closeAdvancedModal()" class="modal-button">
            Aceptar
          </button>
        </div>
      `;
      document.body.appendChild(modal);
      
      // Cerrar con escape
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && modal.classList.contains('show')) {
          closeAdvancedModal();
        }
      });
      
      // Cerrar clickeando fuera
      modal.addEventListener('click', function(e) {
        if (e.target === modal) {
          closeAdvancedModal();
        }
      });
    }
    
    // Actualizar contenido
    const iconMap = {
      'notifications': '游댒',
      'settings': '丘뙖잺',
      'dashboard': '游늵',
      'analytics': '游늳'
    };
    
    document.getElementById('modal-icon').textContent = icon;
    document.getElementById('modal-title').textContent = `${iconMap[icon] || '游늶'} ${title}`;
    document.getElementById('modal-description').textContent = description;
    
    // Mostrar modal con animaci칩n
    modal.classList.add('show');
    document.body.style.overflow = 'hidden';
  };
  
  window.closeAdvancedModal = function() {
    const modal = document.getElementById('advanced-modal');
    if (modal) {
      modal.classList.remove('show');
      document.body.style.overflow = '';
    }
  };
  
  // === FUNCIONES NAVEGACI칍N ===
  window.logout = function() {
    if (confirm('쮼st치s seguro de que quieres cerrar sesi칩n?')) {
      localStorage.removeItem('recuiva_user');
      window.location.href = '../auth/iniciar-sesion.html';
    }
  };

  // Men칰 de perfil
  const profileBtn = document.getElementById('profile-btn');
  const profileDropdown = document.getElementById('profile-dropdown');
  function toggleProfileMenu(e) {
    e.stopPropagation();
    profileDropdown.classList.toggle('active');
  }
  if (profileBtn && profileDropdown) {
    profileBtn.addEventListener('click', toggleProfileMenu);
    document.addEventListener('click', (e) => {
      if (!profileDropdown.contains(e.target) && !profileBtn.contains(e.target)) {
        profileDropdown.classList.remove('active');
      }
    });
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        profileDropdown.classList.remove('active');
      }
    });
  }
});
</script>
</body></html>

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
    <link as="style" href="https://fonts.googleapis.com/css2?display=swap&amp;family=Manrope%3Awght%40400%3B500%3B700%3B800&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900" onload="this.rel='stylesheet'" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
    <title>Recuiva - Dashboard</title>
    <link rel="icon" type="image/x-icon" href="../assets/img/Icon-Recuiva.ico"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <style type="text/tailwindcss">
      :root {
        --primary-color: #FF6600;
        --secondary-color: #004EAA;
        --accent-color: #A5CDED;
        --base-white: #FFFFFF;
        --base-gray: #F1F3F5;
        --text-primary: #181410;
        --text-secondary: #575757;
      }
      .hover-lift {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      .hover-lift:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
      }
      .menu-btn {
        cursor: pointer;
        transition: transform 0.3s ease;
      }
      .menu-btn:hover {
        transform: scale(1.1);
      }
      .mobile-menu {
        transform-origin: top;
        transition: transform 0.3s ease, opacity 0.3s ease;
        transform: scaleY(0);
        opacity: 0;
        pointer-events: none;
        height: 100vh;
        overflow-y: auto;
      }
      .mobile-menu.active {
        transform: scaleY(1);
        opacity: 1;
        pointer-events: auto;
      }
      #menu-btn.active .menu-icon {
        transform: rotate(180deg);
      }
      .profile-dropdown {
        display: none;
        position: absolute;
        right: 0;
        top: 100%;
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 0.5rem;
        box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
        padding: 0.5rem 0;
        min-width: 12rem;
        z-index: 50;
      }
      .profile-dropdown.active {
        display: block;
      }
      .notification-badge {
        position: absolute;
        top: -2px;
        right: -2px;
        background: var(--primary-color);
        color: white;
        border-radius: 9999px;
        font-size: 0.75rem;
        padding: 0.1rem 0.4rem;
        min-width: 1.2rem;
        text-align: center;
      }
    </style>
</head>
<body class="bg-[var(--base-gray)]" style='font-family: Manrope, "Noto Sans", sans-serif;'>
<div class="relative flex size-full min-h-screen flex-col overflow-x-hidden">
<header class="bg-[var(--base-white)] shadow-md sticky top-0 z-50">
<div class="container mx-auto px-6 py-4 flex justify-between items-center">
    <!-- Logo -->
    <div class="flex items-center gap-2">
      <a href="../landing-page.html" class="flex items-center gap-2">
        <img src="../assets/img/Icon-Recuiva.png" alt="Logo Recuiva" class="h-10 w-10 object-contain md:h-12 md:w-12" style="max-width:48px; max-height:48px;"/>
        <span class="text-2xl font-bold text-[var(--text-primary)]">Recuiva</span>
      </a>
    </div>
<nav class="hidden md:flex items-center gap-8">
<a class="text-[var(--text-secondary)] hover:text-[var(--primary-color)] transition-colors" href="../landing-page.html">Inicio</a>
</nav>
<div class="hidden md:flex items-center gap-4">
<a href="iniciar-sesion.html" style="display:inline-block">
  <button type="button" class="border border-[var(--secondary-color)] text-[var(--secondary-color)] font-bold py-2 px-6 rounded-full hover:bg-gray-100 transition-all cursor-pointer">
    Iniciar sesión
  </button>
</a>
<a href="crear-cuenta.html" style="display:inline-block">
  <button type="button" class="bg-[var(--secondary-color)] text-[var(--base-white)] font-bold py-2 px-6 rounded-full hover:bg-opacity-90 transition-all cursor-pointer">
    Crear cuenta
  </button>
</a>
</div>
<div class="md:hidden">
<button class="menu-btn z-50 p-2 rounded-full hover:bg-gray-100" id="menu-btn">
<span class="material-symbols-outlined text-3xl text-[var(--text-primary)]">menu</span>
</button>
</div>
</div>
<div class="mobile-menu md:hidden fixed top-[73px] left-0 w-full bg-[var(--base-white)] z-40 shadow-lg" id="mobile-menu">
<div class="flex flex-col items-center justify-center h-screen gap-8">
<a class="text-2xl text-[var(--text-secondary)] hover:text-[var(--primary-color)] transition-colors" href="../landing-page.html">Inicio</a>
<div class="flex flex-col gap-4 mt-8 w-full px-8">
<button class="w-full text-[var(--secondary-color)] font-bold py-3 px-6 rounded-full border border-[var(--secondary-color)] hover:bg-gray-100 transition-all">
                  Iniciar sesión
                </button>
<button class="w-full bg-[var(--secondary-color)] text-[var(--base-white)] font-bold py-3 px-6 rounded-full hover:bg-opacity-90 transition-all">
                  Crear cuenta
                </button>
</div>
</div>
</div>
</header>



<main class="flex flex-1 items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
<div class="w-full max-w-md space-y-8">
<div class="bg-[var(--card-background-color)] shadow-lg rounded-2xl p-8 space-y-6">
<div class="text-center">
<h2 class="text-3xl font-bold tracking-tight text-[var(--text-color)]">Crea tu cuenta</h2>
<p class="mt-2 text-sm text-[var(--subtle-text-color)]">Comienza tu viaje de aprendizaje con Recuiva.</p>
</div>

<!-- Opciones de registro -->
<div id="registration-options" class="space-y-4">
  <!-- Formulario principal siempre visible -->
  <form action="#" class="space-y-6" method="POST" id="signup-form">
    <div>
      <label class="sr-only" for="name">Nombre completo</label>
      <input class="form-input block w-full rounded-lg border-2 border-[var(--input-border-color)] bg-[var(--input-background-color)] h-12 px-4 placeholder:text-[var(--subtle-text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--input-focus-border-color)] focus:border-[var(--input-focus-border-color)] sm:text-sm" id="name" name="name" placeholder="Nombre completo" required type="text"/>
    </div>
    <div>
      <label class="sr-only" for="email">Correo electrónico</label>
      <input autocomplete="email" class="form-input block w-full rounded-lg border-2 border-[var(--input-border-color)] bg-[var(--input-background-color)] h-12 px-4 placeholder:text-[var(--subtle-text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--input-focus-border-color)] focus:border-[var(--input-focus-border-color)] sm:text-sm" id="email" name="email" placeholder="Correo electrónico" required type="email"/>
    </div>
    <div>
      <label class="sr-only" for="username">Nombre de usuario</label>
      <input class="form-input block w-full rounded-lg border-2 border-[var(--input-border-color)] bg-[var(--input-background-color)] h-12 px-4 placeholder:text-[var(--subtle-text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--input-focus-border-color)] focus:border-[var(--input-focus-border-color)] sm:text-sm" id="username" name="username" placeholder="Nombre de usuario" required type="text"/>
    </div>
    <div class="relative">
      <label class="sr-only" for="password">Contraseña</label>
      <input autocomplete="new-password" class="form-input block w-full rounded-lg border-2 border-[var(--input-border-color)] bg-[var(--input-background-color)] h-12 px-4 pr-12 placeholder:text-[var(--subtle-text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--input-focus-border-color)] focus:border-[var(--input-focus-border-color)] sm:text-sm" id="password" name="password" placeholder="Contraseña" required type="password"/>
      <button type="button" id="toggle-password" tabindex="-1" class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[var(--primary-color)] focus:outline-none">
        <span class="material-symbols-outlined" id="icon-password">visibility_off</span>
      </button>
    </div>
    <div class="relative">
      <label class="sr-only" for="password-confirm">Confirmar contraseña</label>
      <input autocomplete="new-password" class="form-input block w-full rounded-lg border-2 border-[var(--input-border-color)] bg-[var(--input-background-color)] h-12 px-4 pr-12 placeholder:text-[var(--subtle-text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--input-focus-border-color)] focus:border-[var(--input-focus-border-color)] sm:text-sm" id="password-confirm" name="password-confirm" placeholder="Confirmar contraseña" required type="password"/>
      <button type="button" id="toggle-password-confirm" tabindex="-1" class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[var(--primary-color)] focus:outline-none">
        <span class="material-symbols-outlined" id="icon-password-confirm">visibility_off</span>
      </button>
    </div>
    <div class="flex items-center">
      <input class="h-4 w-4 rounded border-gray-300 text-[var(--primary-color)] focus:ring-[var(--primary-color)]" id="terms-and-conditions" name="terms-and-conditions" type="checkbox"/>
      <label class="ml-2 block text-sm text-[var(--subtle-text-color)]" for="terms-and-conditions">
        Acepto los <a class="text-[var(--primary-color)] hover:underline" href="#">términos y condiciones</a>
      </label>
    </div>
    <div>
      <button class="group relative flex w-full justify-center rounded-lg border border-transparent bg-[var(--primary-color)] py-3 px-4 text-sm font-bold text-white shadow-md hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 transition-all duration-300 ease-in-out" type="submit">
        Crear cuenta
      </button>
    </div>
  </form>

  <!-- Separador -->
  <div class="relative">
    <div class="absolute inset-0 flex items-center">
      <div class="w-full border-t border-gray-300"></div>
    </div>
    <div class="relative flex justify-center text-sm">
      <span class="px-2 bg-[var(--card-background-color)] text-gray-500">o</span>
    </div>
  </div>

  <!-- Botón de Gmail -->
  <button onclick="signUpWithGmail()" type="button" class="w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)]">
    <svg class="w-5 h-5" viewBox="0 0 24 24">
      <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
      <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
      <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
      <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
    </svg>
    <span class="text-gray-700 font-medium">Continuar con Gmail</span>
  </button>
</div>

<!-- Formulario manual (inicialmente oculto) -->
<div id="manual-form" class="hidden">
  <form action="#" class="space-y-6" method="POST">
    <div>
      <label class="sr-only" for="name">Nombre</label>
      <input class="form-input block w-full rounded-lg border-2 border-[var(--input-border-color)] bg-[var(--input-background-color)] h-12 px-4 placeholder:text-[var(--subtle-text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--input-focus-border-color)] focus:border-[var(--input-focus-border-color)] sm:text-sm" id="name" name="name" placeholder="Nombre completo" required="" type="text"/>
    </div>
    <div>
      <label class="sr-only" for="email">Correo electrónico</label>
      <input autocomplete="email" class="form-input block w-full rounded-lg border-2 border-[var(--input-border-color)] bg-[var(--input-background-color)] h-12 px-4 placeholder:text-[var(--subtle-text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--input-focus-border-color)] focus:border-[var(--input-focus-border-color)] sm:text-sm" id="email" name="email" placeholder="Correo electrónico" required="" type="email"/>
    </div>
    <div>
      <label class="sr-only" for="username">Nombre de usuario</label>
      <input class="form-input block w-full rounded-lg border-2 border-[var(--input-border-color)] bg-[var(--input-background-color)] h-12 px-4 placeholder:text-[var(--subtle-text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--input-focus-border-color)] focus:border-[var(--input-focus-border-color)] sm:text-sm" id="username" name="username" placeholder="Nombre de usuario" required="" type="text"/>
    </div>
    <div class="relative">
      <label class="sr-only" for="password">Contraseña</label>
      <input autocomplete="new-password" class="form-input block w-full rounded-lg border-2 border-[var(--input-border-color)] bg-[var(--input-background-color)] h-12 px-4 pr-12 placeholder:text-[var(--subtle-text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--input-focus-border-color)] focus:border-[var(--input-focus-border-color)] sm:text-sm" id="password" name="password" placeholder="Contraseña" required type="password"/>
      <button type="button" id="toggle-password" tabindex="-1" class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[var(--primary-color)] focus:outline-none">
        <span class="material-symbols-outlined" id="icon-password">visibility_off</span>
      </button>
    </div>
    <div class="relative">
      <label class="sr-only" for="password-confirm">Confirmar contraseña</label>
      <input autocomplete="new-password" class="form-input block w-full rounded-lg border-2 border-[var(--input-border-color)] bg-[var(--input-background-color)] h-12 px-4 pr-12 placeholder:text-[var(--subtle-text-color)] focus:outline-none focus:ring-2 focus:ring-[var(--input-focus-border-color)] focus:border-[var(--input-focus-border-color)] sm:text-sm" id="password-confirm" name="password-confirm" placeholder="Confirmar contraseña" required type="password"/>
      <button type="button" id="toggle-password-confirm" tabindex="-1" class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[var(--primary-color)] focus:outline-none">
        <span class="material-symbols-outlined" id="icon-password-confirm">visibility_off</span>
      </button>
    </div>
    <div class="flex items-center">
      <input class="h-4 w-4 rounded border-gray-300 text-[var(--primary-color)] focus:ring-[var(--primary-color)]" id="terms-and-conditions" name="terms-and-conditions" type="checkbox"/>
      <label class="ml-2 block text-sm text-[var(--subtle-text-color)]" for="terms-and-conditions"> Acepto los <a class="font-medium text-[var(--primary-color)] hover:text-orange-500" href="#">términos y condiciones</a> </label>
    </div>
    <div class="flex gap-3">
      <button onclick="hideManualForm()" type="button" class="flex-1 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors">
        Atrás
      </button>
      <button class="flex-1 bg-[var(--primary-color)] text-white font-bold py-3 px-4 rounded-lg hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all" type="submit">
        Crear cuenta
      </button>
    </div>
  </form>
</div>

<p class="text-center text-sm text-[var(--subtle-text-color)]">
              ¿Ya tienes cuenta?
              <a class="font-medium text-[var(--primary-color)] hover:text-orange-500" href="iniciar-sesion.html"> Inicia sesión </a>
</p>
</div>
</div>
</main>
<!-- Modal de verificación -->
<div id="verification-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 hidden">
  <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full text-center relative">
    <span class="material-symbols-outlined text-5xl text-[var(--primary-color)] mb-2">mail</span>
    <h2 class="text-2xl font-bold text-[var(--text-primary)] mb-2">Verifica tu cuenta</h2>
    <p class="text-base text-gray-600 mb-4">Se ha enviado un <span class="font-semibold">enlace de verificación</span> a tu correo electrónico.<br>Revisa tu bandeja de entrada y sigue las instrucciones.<br>Si usaste Google o Hotmail, revisa también la carpeta de spam.</p>
    <div class="mb-4">
      <span class="text-sm text-gray-500">Puedes aceptar en <span id="timer" class="font-bold text-[var(--primary-color)]">60</span> segundos...</span>
    </div>
    <button id="accept-btn" class="w-full mt-2 py-3 px-6 rounded-lg bg-[var(--primary-color)] text-white font-bold text-base transition-colors hover:bg-opacity-90 disabled:bg-gray-300 disabled:text-gray-400" disabled>Aceptar</button>
    <button id="close-modal" class="absolute top-2 right-2 text-gray-400 hover:text-gray-700 text-2xl">&times;</button>
  </div>
</div>




<footer class="bg-[var(--secondary-color)] text-[var(--base-gray)] py-12 px-6">
<div class="container mx-auto text-center">
<div class="flex justify-center items-center gap-2 mb-6">
<img src="../assets/img/Icon-Recuiva.png" alt="Logo Recuiva" class="h-10 w-10 object-contain md:h-12 md:w-12" style="max-width:48px; max-height:48px;"/>
<span class="text-2xl font-bold">Recuiva</span>
</div>
<div class="flex flex-wrap items-center justify-center gap-x-6 gap-y-2 mb-6">
<a class="hover:text-[var(--primary-color)] transition-colors" href="../institucional/active-recall.html">Active Recall</a>
<a class="hover:text-[var(--primary-color)] transition-colors" href="../institucional/validacion-semantica.html">Validación Semántica</a>
<a class="hover:text-[var(--primary-color)] transition-colors" href="../institucional/diferencias.html">Diferencias</a>
<a class="hover:text-[var(--primary-color)] transition-colors" href="#">Contacto</a>
<a class="hover:text-[var(--primary-color)] transition-colors" href="#">Términos</a>
<a class="hover:text-[var(--primary-color)] transition-colors" href="#">Privacidad</a>
</div>
<p class="text-sm">© 2024 Recuiva. Todos los derechos reservados.</p>
</div>
</footer>
<script>
document.addEventListener('DOMContentLoaded', () => {
  // Menú móvil animación landing-page
  const menuBtn = document.getElementById('menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');
  const menuIcon = menuBtn.querySelector('.material-symbols-outlined');
  let isMenuOpen = false;

  function toggleMenu() {
    isMenuOpen = !isMenuOpen;
    mobileMenu.classList.toggle('active');
    document.body.classList.toggle('overflow-hidden');
    menuIcon.style.transition = 'transform 0.3s ease, opacity 0.15s ease';
    if (isMenuOpen) {
      menuIcon.style.transform = 'rotate(90deg)';
      menuIcon.style.opacity = '0';
      setTimeout(() => {
        menuIcon.textContent = 'close';
        menuIcon.style.transform = 'rotate(0deg)';
        menuIcon.style.opacity = '1';
      }, 150);
    } else {
      menuIcon.style.transform = 'rotate(90deg)';
      menuIcon.style.opacity = '0';
      setTimeout(() => {
        menuIcon.textContent = 'menu';
        menuIcon.style.transform = 'rotate(0deg)';
        menuIcon.style.opacity = '1';
      }, 150);
    }
  }

  menuBtn.addEventListener('click', toggleMenu);
  // Cerrar menú cuando se hace clic en un enlace
  const menuLinks = mobileMenu.querySelectorAll('a');
  menuLinks.forEach(link => {
    link.addEventListener('click', () => {
      if (isMenuOpen) {
        toggleMenu();
      }
    });
  });

  // Menú de perfil
  const profileBtn = document.getElementById('profile-btn');
  const profileDropdown = document.getElementById('profile-dropdown');
  function toggleProfileMenu(e) {
    e.stopPropagation();
    profileDropdown.classList.toggle('active');
  }
  if (profileBtn && profileDropdown) {
    profileBtn.addEventListener('click', toggleProfileMenu);
    document.addEventListener('click', (e) => {
      if (!profileDropdown.contains(e.target) && !profileBtn.contains(e.target)) {
        profileDropdown.classList.remove('active');
      }
    });
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        profileDropdown.classList.remove('active');
      }
    });
  }

  // Modal de verificación
  // Funciones para manejar el registro
  window.signUpWithGmail = function() {
    // Simular registro con Gmail
    localStorage.setItem('recuiva_registration_type', 'gmail');
    localStorage.setItem('recuiva_profile_name', 'Usuario Gmail');
    localStorage.setItem('recuiva_profile_email', 'usuario@gmail.com');
    localStorage.setItem('recuiva_email_editable', 'false');
    
    // Mostrar modal de bienvenida
    showWelcomeModal('Gmail', 'usuario@gmail.com');
  };

  window.showManualForm = function() {
    document.getElementById('registration-options').classList.add('hidden');
    document.getElementById('manual-form').classList.remove('hidden');
  };

  window.hideManualForm = function() {
    document.getElementById('registration-options').classList.remove('hidden');
    document.getElementById('manual-form').classList.add('hidden');
  };

  function showWelcomeModal(type, email) {
    const modal = document.createElement('div');
    modal.className = 'fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50';
    modal.innerHTML = `
      <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full text-center">
        <span class="material-symbols-outlined text-5xl text-green-600 mb-4">check_circle</span>
        <h2 class="text-2xl font-bold text-gray-800 mb-2">¡Cuenta creada exitosamente!</h2>
        <p class="text-gray-600 mb-4">Tu cuenta ha sido creada con ${type}.<br>Email: <strong>${email}</strong></p>
        <button onclick="goToDashboard()" class="w-full py-3 px-6 bg-[var(--primary-color)] text-white font-bold rounded-lg hover:bg-orange-700 transition-colors">
          Ir al Dashboard
        </button>
      </div>
    `;
    document.body.appendChild(modal);
    
    window.goToDashboard = function() {
      window.location.href = '../app/dashboard.html';
    };
  }

  window.showUsernameModal = function(name, email) {
    const modal = document.createElement('div');
    modal.className = 'fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50';
    modal.innerHTML = `
      <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full">
        <h2 class="text-xl font-bold text-gray-800 mb-4">¿Deseas cambiar tu nombre de usuario?</h2>
        <p class="text-gray-600 mb-4">Tu nombre actual es: <strong>${name}</strong></p>
        <input type="text" id="new-username" class="w-full p-3 border border-gray-300 rounded-lg mb-4" placeholder="Nuevo nombre de usuario" value="${name}">
        <div class="flex gap-3">
          <button onclick="keepUsername('${name}', '${email}')" class="flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">
            Mantener
          </button>
          <button onclick="changeUsername('${email}')" class="flex-1 py-2 px-4 bg-[var(--primary-color)] text-white rounded-lg hover:bg-orange-700 transition-colors">
            Cambiar
          </button>
        </div>
      </div>
    `;
    document.body.appendChild(modal);
    
    window.keepUsername = function(name, email) {
      localStorage.setItem('recuiva_profile_name', name);
      document.body.removeChild(modal);
      showWelcomeModal('cuenta manual', email);
    };
    
    window.changeUsername = function(email) {
      const newUsername = document.getElementById('new-username').value;
      if (newUsername.trim()) {
        localStorage.setItem('recuiva_profile_name', newUsername);
        document.body.removeChild(modal);
        showWelcomeModal('cuenta manual', email);
      }
    };
  };

  const form = document.getElementById('signup-form');
  const modal = document.getElementById('verification-modal');
  const timerSpan = document.getElementById('timer');
  const acceptBtn = document.getElementById('accept-btn');
  const closeModalBtn = document.getElementById('close-modal');
  let timer = 60;
  let interval;

  if (form && modal) {
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Obtener datos del formulario
      const name = document.getElementById('name').value;
      const email = document.getElementById('email').value;
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      const passwordConfirm = document.getElementById('password-confirm').value;
      const termsAccepted = document.getElementById('terms-and-conditions').checked;
      
      // Validaciones
      if (!termsAccepted) {
        alert('Debes aceptar los términos y condiciones');
        return;
      }
      
      if (password !== passwordConfirm) {
        alert('Las contraseñas no coinciden');
        return;
      }
      
      // Guardar datos para registro manual
      localStorage.setItem('accountType', 'manual');
      localStorage.setItem('userEmail', email);
      localStorage.setItem('userName', username);
      
      // Guardar datos del perfil
      localStorage.setItem('profileData', JSON.stringify({
        email: email,
        nombre: name.split(' ')[0] || username,
        apellido: name.split(' ').slice(1).join(' ') || '',
        telefono: '',
        fechaNacimiento: '',
        genero: '',
        pais: '',
        ciudad: '',
        institucion: '',
        nivelEducativo: '',
        intereses: '',
        biografia: ''
      }));
      
      // Mostrar modal de bienvenida
      showWelcomeModal('cuenta manual', email);
    });
  }
  if (closeModalBtn) {
    closeModalBtn.addEventListener('click', () => {
      modal.classList.add('hidden');
      clearInterval(interval);
    });
  }
  if (acceptBtn) {
    acceptBtn.addEventListener('click', () => {
      modal.classList.add('hidden');
      clearInterval(interval);
      // Aquí podrías redirigir o mostrar otro mensaje
    });
  }

  // Mostrar/ocultar contraseña
  const passwordInput = document.getElementById('password');
  const togglePassword = document.getElementById('toggle-password');
  const iconPassword = document.getElementById('icon-password');
  if (togglePassword && passwordInput && iconPassword) {
    togglePassword.addEventListener('click', () => {
      if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        iconPassword.textContent = 'visibility';
      } else {
        passwordInput.type = 'password';
        iconPassword.textContent = 'visibility_off';
      }
    });
  }
  const passwordConfirmInput = document.getElementById('password-confirm');
  const togglePasswordConfirm = document.getElementById('toggle-password-confirm');
  const iconPasswordConfirm = document.getElementById('icon-password-confirm');
  if (togglePasswordConfirm && passwordConfirmInput && iconPasswordConfirm) {
    togglePasswordConfirm.addEventListener('click', () => {
      if (passwordConfirmInput.type === 'password') {
        passwordConfirmInput.type = 'text';
        iconPasswordConfirm.textContent = 'visibility';
      } else {
        passwordConfirmInput.type = 'password';
        iconPasswordConfirm.textContent = 'visibility_off';
      }
    });
  }
});
</script>
</body></html>